components:
  schemas:
    UUID:
      $ref: "../../_compartilhado/v1/schemas.yaml#/components/schemas/UUID"

    Dinheiro:
      $ref: "../../_compartilhado/v1/schemas.yaml#/components/schemas/Dinheiro"

    Endereco:
      $ref: "../../viacep/v1/schemas.yaml#/components/schemas/Endereco"

    CriarCotacaoRequest:
      type: object
      additionalProperties: false
      required:
        - clienteId
        - premioSugerido
      properties:
        clienteId:
          $ref: "#/components/schemas/UUID"
        premioSugerido:
          $ref: "#/components/schemas/Dinheiro"

    Cotacao:
      allOf:
        - $ref: "#/components/schemas/CriarCotacaoRequest"
        - type: object
          additionalProperties: false
          required:
            - cotacaoId
            - status
          properties:
            cotacaoId:
              $ref: "#/components/schemas/UUID"
            status:
              type: string
              description: Status atual da cotação
              enum:
                - CRIADA
                - EXPIRADA
                - ACEITA
            premioFinal:
              $ref: "#/components/schemas/Dinheiro"
              description: Prêmio final acordado após processamento

    ProcessarEnderecoRequest:
      type: object
      additionalProperties: false
      required:
        - cep
      properties:
        cep:
          type: string
          description: CEP para processamento da cotação
          example: "12345-678"
